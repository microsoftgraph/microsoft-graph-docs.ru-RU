---
title: Тип ресурса schemaExtension (расширения схемы)
description: 'С помощью расширений схемы вы можете задать схему, которую необходимо расширить, и добавить строго типизированные пользовательские данные в тип ресурса. В расширенном ресурсе пользовательские данные имеют сложный тип. '
ms.localizationpriority: high
author: dkershaw10
ms.prod: extensions
doc_type: resourcePageType
ms.openlocfilehash: 5f0198e7b51a29afe9074efe2d6b2384c4367f6e
ms.sourcegitcommit: e48fe05125fe1e857225d20ab278352ff7f0911a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/30/2022
ms.locfileid: "66556348"
---
# <a name="schemaextension-resource-type-schema-extensions"></a>Тип ресурса schemaExtension (расширения схемы)

Пространство имен: microsoft.graph

С помощью расширений схемы вы можете задать схему, которую необходимо расширить, и добавить строго типизированные пользовательские данные в тип ресурса. В расширенном ресурсе пользовательские данные имеют сложный тип. Расширения схемы поддерживаются в ресурсах указанных ниже типов.

+ [user](/graph/api/resources/user)
+ [group](/graph/api/resources/group)
+ [administrativeUnit](/graph/api/resources/administrativeunit)
+ [application](/graph/api/resources/application)
+ [contact](/graph/api/resources/contact)
+ [device](/graph/api/resources/device)
+ [событие](/graph/api/resources/event) (для календарей пользователей и групп)
+ [message](/graph/api/resources/message)
+ [organization](/graph/api/resources/organization)
+ [post](/graph/api/resources/post)
+ [todoTask](/graph/api/resources/todotask)
+ [todoTaskList](/graph/api/resources/todotasklist)

Используйте этот ресурс и связанные методы для управления [определениями расширения схемы](/graph/api/resources/schemaextension). Для управления данными расширения схемы в экземпляре расширенного ресурса используйте тот же запрос REST, что и для управления экземпляром ресурса. Сведения о том, как добавлять пользовательские данные в группы, см. в [примере расширения схемы](/graph/extensibility-schema-groups).

Дополнительные сведения о расширяемости Microsoft Graph, включая ограничения для расширений схемы, см. в разделе [Добавление к ресурсам настраиваемых свойств с помощью расширений](/graph/extensibility-overview).

## <a name="methods"></a>Методы

| Метод           | Возвращаемый тип    |Описание|
|:---------------|:--------|:----------|
|[Создание](../api/schemaextension-post-schemaextensions.md) | [schemaExtension](schemaextension.md) |Создание определения расширения схемы.|
|[Перечисление](../api/schemaextension-list.md) | [schemaExtension](schemaextension.md) |Создание списка доступных определений schemaExtension и их свойств.|
|[Получение](../api/schemaextension-get.md) | [schemaExtension](schemaextension.md) |Получение свойств указанного определения schemaExtension.|
|[Обновление](../api/schemaextension-update.md) | [schemaExtension](schemaextension.md) |Обновление определения schemaExtension. |
|[Удаление](../api/schemaextension-delete.md) | Нет |Удаление определения schemaExtension. |

## <a name="properties"></a>Свойства
| Свойство     | Тип   |Описание|
|:---------------|:--------|:----------|
|description|String|Описание расширения схемы. Поддерживает `$filter` (`eq`).|
|id|String|Уникальный идентификатор для определения расширения схемы. <br>Значение можно присвоить одним из двух способов: <ul><li>Сцепите имя одного из ваших проверенных доменов с именем расширения схемы, чтобы создать уникальную строку такого формата: \{_&#65279;доменноеИмя_\}\_\{_&#65279;имяСхемы_\}. Например, `contoso_mySchema`. </li><li>Укажите имя схемы и предоставьте Microsoft Graph возможность использовать его для назначения **id** в таком формате: ext\{_&#65279;8-случайных-букв-или-цифр_\}\_\{_&#65279;имя-схемы_\}. Например, `extkvbmkofy_mySchema`.</li></ul>Это свойство нельзя изменить после создания. Поддерживает `$filter` (`eq`). **Примечание.** Рекомендуется, чтобы ваш **ИД** начинался с буквы алфавита от А до Я, так как возможности запроса могут быть ограничены для идентификаторов, начинающихся с целых чисел. |
|owner|String|Идентификатор `appId` приложения, которое является владельцем расширения схемы. Это свойство можно указать при создании, чтобы задать владельца.  Если оно не указано, то в качестве владельца будет задано вызывающее приложение `appId`. В любом случае, пользователь, выполнивший вход в систему, должен быть владельцем приложения. Таким образом, например, при создании определения расширения схемы с помощью песочницы Graph вам **потребуется** указать свойство владельца. После задания свойства оно будет доступно только для чтения, и вам не удастся изменить его. Поддерживает `$filter` (`eq`).| 
|properties|Коллекция [extensionSchemaProperty](extensionschemaproperty.md)|Коллекция имен и типов свойств, составляющих определение расширения схемы.|
|status|String|Состояние жизненного цикла расширения схемы. Возможные состояния: `InDevelopment`, `Available` и `Deprecated`. При создании свойство автоматически получает значение `InDevelopment`. Дополнительные сведения о возможных переходах состояния и о поведении истории состояний см. в статье [Жизненный цикл расширений схемы](#schema-extensions-lifecycle). Поддерживает `$filter` (`eq`).|
|targetTypes|Коллекция String|Набор типов Microsoft Graph (поддерживающих расширения), к которым можно применить это расширение схемы. Выберите из **administrativeUnit**, **contact**, **device**, **event**, **group**, **message**, **organization**, **post**, **todoTask**, **todoTaskList** или **user**.|

### <a name="schema-extensions-lifecycle"></a>Жизненный цикл расширений схемы

Когда приложение создает определение расширения схемы, оно помечается как владелец такого расширения.

Приложение-владелец может перемещать расширение из одного состояния в другое, используя операцию PATCH для свойства **status**. В зависимости от текущего состояния приложение-владелец может обновлять или удалять расширение. Любые обновления расширения схемы должны всегда быть только дополнительными и не прерывающими.

|Состояние |Поведение в состоянии жизненного цикла |
|:-------------|:------------|
| InDevelopment | <ul><li>Начальное состояние после создания. Идет разработка расширения схемы, которую выполняет приложение-владелец. </li><li>В этом состоянии любое приложение в том каталоге, в котором зарегистрировано приложение-владелец, может расширять экземпляры ресурса с использованием этого определения схемы (при наличии у приложения разрешений для данного ресурса). </li><li>Для мультитенантного приложения-владельца только экземпляр приложения-владельца, находящийся в каталоге, отличном от домашнего каталога, может расширять экземпляры ресурсов с помощью этого определения схемы (если у приложения есть разрешения на этот ресурс) или читать данные расширения. </li><li>Только приложение-владелец может добавлять изменения в определение расширения. </li><li>Только приложение-владелец может удалять определение расширения. </li><li>Приложение-владелец может заменить состояние **InDevelopment** расширения на **Available**.</li></ul> |
| Available | <ul><li>Расширение схемы доступно для всех приложений в любом клиенте. </li><li>После того как приложение-владелец задаст **Available** в качестве состояния расширения, любое приложение сможет просто добавлять пользовательские данные в экземпляры ресурсов, типы которых указаны в расширении (если у приложения есть соответствующие разрешения). Приложение может назначать пользовательские данные при создании нового экземпляра или обновлении существующего. </li><li>Только приложение-владелец может добавлять изменения в определение расширения. Если указано это состояние, удалить определение расширения не может никакое приложение. </li><li>Приложение-владелец может обновить состояние расширения схемы, заменив **Available** на **Deprecated**.</li></ul> |
| Deprecated | <ul><li>Определение расширения схемы больше не доступно для чтения или изменения. </li><li>Приложения не могут просмотреть, обновить, добавить свойства или удалить расширение. </li><li>Но они по-прежнему могут читать, обновлять и удалять _значения свойств_ расширения. </li></ul> |

> **Примечание.** Определения расширений схемы (помеченных как `Available`), созданные другими разработчиками из других клиентов, отображаются для всех разработчиков (в списке всех расширений схемы). Это отличается от других API-интерфейсов, возвращающих только данные определенного клиента. С другой стороны, данные расширения, созданные на основе определений расширений схемы, относятся к конкретному клиенту и доступны только приложениям, которым явным образом предоставлено разрешение. 

## <a name="json-representation"></a>Представление JSON

Ниже показано представление ресурса в формате JSON.

<!--{
  "blockType": "resource",
  "optionalProperties": [],
  "baseType": "microsoft.graph.entity",
  "@odata.type": "microsoft.graph.schemaExtension"
}-->

```json
{
  "description": "String",
  "id": "String (identifier)",
  "owner": "String",
  "properties": [{"@odata.type": "microsoft.graph.extensionSchemaProperty"}],
  "status": "String",
  "targetTypes": ["String"]
}

```

## <a name="see-also"></a>См. также

+ [Добавление пользовательских свойств к ресурсам с помощью расширений](/graph/extensibility-overview)
+ [Добавление пользовательских данных в группы с помощью расширений схемы](/graph/extensibility-schema-groups)

<!-- uuid: 8fcb5dbc-d5aa-4681-8e31-b001d5168d79
2015-10-25 14:57:30 UTC -->
<!-- {
  "type": "#page.annotation",
  "description": "schemaExtension resource",
  "keywords": "",
  "section": "documentation",
  "tocPath": ""
}-->

