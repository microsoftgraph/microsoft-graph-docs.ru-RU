---
title: Запросы на согласие Azure Active Directory
description: Используйте запросы на согласие Azure AD для управления процессом запроса для пользователей, пытающихся получить доступ к приложениям, для которых требуется согласие администратора.
localization_priority: Normal
author: psignoret
ms.prod: governance
doc_type: conceptualPageType
ms.openlocfilehash: 4f1227371525b409e1ac125f4e591c1f8db76796
ms.sourcegitcommit: 8ca598ac70647bf4f897361ee90d3aa31d2ecca5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/31/2021
ms.locfileid: "51469687"
---
# <a name="azure-active-directory-consent-requests"></a><span data-ttu-id="7e7b4-103">Запросы на согласие Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="7e7b4-103">Azure Active Directory consent requests</span></span>

<span data-ttu-id="7e7b4-104">Пространство имен: microsoft.graph</span><span class="sxs-lookup"><span data-stu-id="7e7b4-104">Namespace: microsoft.graph</span></span>

<span data-ttu-id="7e7b4-105">Запросы на согласие Azure Active Directory (Azure AD) помогают управлять процессом запроса для пользователей, пытающихся получить доступ к приложениям, которые требуют утверждения администратора.</span><span class="sxs-lookup"><span data-stu-id="7e7b4-105">Azure Active Directory (Azure AD) consent requests help you manage the request workflow for users attempting to access apps that require admin approval.</span></span>

<span data-ttu-id="7e7b4-106">Чтобы разрешить пользователям запрашивать доступ или согласие администратора для приложений, которые им не разрешается предоставлять свое согласие, сначала ввести рабочий процесс запроса на согласие.</span><span class="sxs-lookup"><span data-stu-id="7e7b4-106">To allow users to request access or admin consent for applications they're unauthorized to grant consent to themselves, first enable the consent request workflow.</span></span> 

>[!NOTE]
><span data-ttu-id="7e7b4-107">Существующие API ограничиваются настройкой рабочего процесса, чтением списка запросов и отказом в запросе.</span><span class="sxs-lookup"><span data-stu-id="7e7b4-107">The current APIs are limited to configuring the workflow, reading the list of requests, and denying a request.</span></span> <span data-ttu-id="7e7b4-108">В настоящее время нет доступных методов для утверждения запроса программным путем.</span><span class="sxs-lookup"><span data-stu-id="7e7b4-108">At this time there aren’t any methods available to approve a request programmatically.</span></span> <span data-ttu-id="7e7b4-109">Однако содержимое запроса можно использовать для воссоздания URL-адреса, который можно использовать для предоставления согласия администратора и утверждения запроса.</span><span class="sxs-lookup"><span data-stu-id="7e7b4-109">However, the contents of the request can be used to recreate a URL which can be used to grant admin consent and approve a request.</span></span>

<span data-ttu-id="7e7b4-110">Типы ресурсов запроса на согласие включают:</span><span class="sxs-lookup"><span data-stu-id="7e7b4-110">The consent request resource types include:</span></span>

* <span data-ttu-id="7e7b4-111">[adminConsentRequestPolicy](../resources/adminconsentrequestpolicy.md): указывает политику, с помощью которой можно создавать и управлять запросами на согласие приложений для всего клиента.</span><span class="sxs-lookup"><span data-stu-id="7e7b4-111">[adminConsentRequestPolicy](../resources/adminconsentrequestpolicy.md): Specifies the policy by which app consent requests can be created and managed for the entire tenant.</span></span> <span data-ttu-id="7e7b4-112">Существует один **администраторConsentRequestPolicy для** каждого клиента.</span><span class="sxs-lookup"><span data-stu-id="7e7b4-112">There is a single **adminConsentRequestPolicy** per tenant.</span></span>
* <span data-ttu-id="7e7b4-113">[appConsentRequest:](../resources/appconsentrequest.md)запрос, представляю который представляет собой агрегацию **userConsentRequests** для определенного приложения.</span><span class="sxs-lookup"><span data-stu-id="7e7b4-113">[appConsentRequest](../resources/appconsentrequest.md): A request that represents an aggregation of **userConsentRequests** for a specific application.</span></span>
* <span data-ttu-id="7e7b4-114">[userConsentRequest:](../resources/userconsentrequest.md)запрос, созданный пользователем для использования приложения, для доступа к нему требуется согласие администратора.</span><span class="sxs-lookup"><span data-stu-id="7e7b4-114">[userConsentRequest](../resources/userconsentrequest.md): A request created by a user to use an app that requires admin consent to access.</span></span>
* <span data-ttu-id="7e7b4-115">[appConsentRequestScope:](../resources/appconsentrequestscope.md)ресурс, содержащий сведения о динамических области разрешений, запрашиваемой для данного приложения.</span><span class="sxs-lookup"><span data-stu-id="7e7b4-115">[appConsentRequestScope](../resources/appconsentrequestscope.md): A resource that contains details of the dynamic permission scopes being requested for a given application.</span></span>  

## <a name="methods"></a><span data-ttu-id="7e7b4-116">Методы</span><span class="sxs-lookup"><span data-stu-id="7e7b4-116">Methods</span></span>

<span data-ttu-id="7e7b4-117">В следующей таблице перечислены методы, которые можно использовать для взаимодействия с ресурсами запроса на согласие.</span><span class="sxs-lookup"><span data-stu-id="7e7b4-117">The following table lists the methods that you can use to interact with consent request resources.</span></span>

| <span data-ttu-id="7e7b4-118">Метод</span><span class="sxs-lookup"><span data-stu-id="7e7b4-118">Method</span></span>           | <span data-ttu-id="7e7b4-119">Тип возвращаемых данных</span><span class="sxs-lookup"><span data-stu-id="7e7b4-119">Return type</span></span>    |<span data-ttu-id="7e7b4-120">Описание</span><span class="sxs-lookup"><span data-stu-id="7e7b4-120">Description</span></span>|
|:---------------|:--------|:----------|
|[<span data-ttu-id="7e7b4-121">Получить adminConsentRequestPolicy</span><span class="sxs-lookup"><span data-stu-id="7e7b4-121">Get adminConsentRequestPolicy</span></span>](../api/adminconsentrequestpolicy-get.md) | <span data-ttu-id="7e7b4-122">[коллекция adminConsentRequestPolicy](adminconsentrequestpolicy.md)</span><span class="sxs-lookup"><span data-stu-id="7e7b4-122">[adminConsentRequestPolicy](adminconsentrequestpolicy.md) collection</span></span> | <span data-ttu-id="7e7b4-123">Чтение свойств [adminConsentRequestPolicy](adminconsentrequestpolicy.md)</span><span class="sxs-lookup"><span data-stu-id="7e7b4-123">Read the properties of the [adminConsentRequestPolicy](adminconsentrequestpolicy.md)</span></span> |
|[<span data-ttu-id="7e7b4-124">Обновление adminConsentRequestPolicy</span><span class="sxs-lookup"><span data-stu-id="7e7b4-124">Update adminConsentRequestPolicy</span></span>](../api/adminconsentrequestpolicy-update.md) | <span data-ttu-id="7e7b4-125">[коллекция adminConsentRequestPolicy](adminconsentrequestpolicy.md)</span><span class="sxs-lookup"><span data-stu-id="7e7b4-125">[adminConsentRequestPolicy](adminconsentrequestpolicy.md) collection</span></span> | <span data-ttu-id="7e7b4-126">Настройка конфигураций для [adminConsentRequestPolicy](adminconsentrequestpolicy.md)</span><span class="sxs-lookup"><span data-stu-id="7e7b4-126">Set configurations for the [adminConsentRequestPolicy](adminconsentrequestpolicy.md)</span></span> |
|[<span data-ttu-id="7e7b4-127">Список appConsentRequests </span><span class="sxs-lookup"><span data-stu-id="7e7b4-127">List appConsentRequests </span></span>](../api/appconsentrequest-list.md) | <span data-ttu-id="7e7b4-128">[коллекция appConsentRequest](appconsentrequest.md)</span><span class="sxs-lookup"><span data-stu-id="7e7b4-128">[appConsentRequest](appconsentrequest.md) collection</span></span> | <span data-ttu-id="7e7b4-129">Извлечение списка всех [appConsentRequests](appconsentrequest.md)</span><span class="sxs-lookup"><span data-stu-id="7e7b4-129">Retrieve a list of all [appConsentRequests](appconsentrequest.md)</span></span> |
|[<span data-ttu-id="7e7b4-130">Get appConsentRequests </span><span class="sxs-lookup"><span data-stu-id="7e7b4-130">Get appConsentRequests </span></span>](../api/appconsentrequest-get.md) | <span data-ttu-id="7e7b4-131">[коллекция appConsentRequest](appconsentrequest.md)</span><span class="sxs-lookup"><span data-stu-id="7e7b4-131">[appConsentRequest](appconsentrequest.md) collection</span></span> | <span data-ttu-id="7e7b4-132">Чтение данного [приложенияConsentRequest](appconsentrequest.md)</span><span class="sxs-lookup"><span data-stu-id="7e7b4-132">Read a given [appConsentRequest](appconsentrequest.md)</span></span> |
|[<span data-ttu-id="7e7b4-133">Список appConsentRequests: filterByCurrentUser</span><span class="sxs-lookup"><span data-stu-id="7e7b4-133">List appConsentRequests: filterByCurrentUser</span></span>](../api/appconsentrequest-filterByCurrentUser.md) | <span data-ttu-id="7e7b4-134">[коллекция appConsentRequests](../resources/appconsentrequest.md)</span><span class="sxs-lookup"><span data-stu-id="7e7b4-134">[appConsentRequests](../resources/appconsentrequest.md) collection</span></span> | <span data-ttu-id="7e7b4-135">Ознакомьтесь с свойствами [appConsentRequests,](../resources/appconsentrequest.md) для которых текущий пользователь является рецензентом, и состояние запроса на согласие пользователя `InProgress` .</span><span class="sxs-lookup"><span data-stu-id="7e7b4-135">Read the properties of the [appConsentRequests](../resources/appconsentrequest.md) for which the current user is the reviewer and the status of the user consent request is `InProgress`.</span></span> |
|[<span data-ttu-id="7e7b4-136">Get userConsentRequests </span><span class="sxs-lookup"><span data-stu-id="7e7b4-136">Get userConsentRequests </span></span>](../api/userconsentrequest-get.md) | <span data-ttu-id="7e7b4-137">[коллекция userConsentRequest](userconsentrequest.md)</span><span class="sxs-lookup"><span data-stu-id="7e7b4-137">[userConsentRequest](userconsentrequest.md) collection</span></span> | <span data-ttu-id="7e7b4-138">Извлечение [данного пользователяConsentRequests](userconsentrequest.md) для [данного appConsentRequest](appconsentrequest.md)</span><span class="sxs-lookup"><span data-stu-id="7e7b4-138">Retrieve a given [userConsentRequests](userconsentrequest.md) for a given [appConsentRequest](appconsentrequest.md)</span></span> |
|[<span data-ttu-id="7e7b4-139">Список userConsentRequests </span><span class="sxs-lookup"><span data-stu-id="7e7b4-139">List userConsentRequests </span></span>](../api/userconsentrequest-list.md) | <span data-ttu-id="7e7b4-140">[коллекция userConsentRequest](userconsentrequest.md)</span><span class="sxs-lookup"><span data-stu-id="7e7b4-140">[userConsentRequest](userconsentrequest.md) collection</span></span> | <span data-ttu-id="7e7b4-141">Извлечение списка всех [userConsentRequests](userconsentrequest.md) для [данного приложенияConsentRequest](appconsentrequest.md)</span><span class="sxs-lookup"><span data-stu-id="7e7b4-141">Retrieve a list of all [userConsentRequests](userconsentrequest.md) for a given [appConsentRequest](appconsentrequest.md)</span></span> |
|[<span data-ttu-id="7e7b4-142">Список userConsentRequests: filterByCurrentUser</span><span class="sxs-lookup"><span data-stu-id="7e7b4-142">List userConsentRequests: filterByCurrentUser</span></span>](../api/userconsentrequest-filterByCurrentUser.md) | <span data-ttu-id="7e7b4-143">[коллекция appConsentRequests](../resources/userconsentrequest.md)</span><span class="sxs-lookup"><span data-stu-id="7e7b4-143">[appConsentRequests](../resources/userconsentrequest.md) collection</span></span> | <span data-ttu-id="7e7b4-144">Ознакомьтесь с свойствами [userConsentRequests,](../resources/userconsentrequest.md) для которых текущий пользователь является рецензентом, и состояние запроса на согласие пользователя `InProgress` .</span><span class="sxs-lookup"><span data-stu-id="7e7b4-144">Read the properties of the [userConsentRequests](../resources/userconsentrequest.md) for which the current user is the reviewer and the status of the user consent request is `InProgress`.</span></span> |

## <a name="role-and-delegated-permission-authorization-checks"></a><span data-ttu-id="7e7b4-145">Проверка роли и делегирования разрешений</span><span class="sxs-lookup"><span data-stu-id="7e7b4-145">Role and delegated permission authorization checks</span></span>

<span data-ttu-id="7e7b4-146">Для управления рабочий процессом запросов или чтения списка запросов требуются следующие роли каталога.</span><span class="sxs-lookup"><span data-stu-id="7e7b4-146">The following directory roles are required for a calling user to manage the requests workflow or read the list of requests.</span></span>

| <span data-ttu-id="7e7b4-147">Операция</span><span class="sxs-lookup"><span data-stu-id="7e7b4-147">Operation</span></span> | <span data-ttu-id="7e7b4-148">Делегированные разрешения</span><span class="sxs-lookup"><span data-stu-id="7e7b4-148">Delegated permissions</span></span> | <span data-ttu-id="7e7b4-149">Роль требуемого каталога вызываемого пользователя</span><span class="sxs-lookup"><span data-stu-id="7e7b4-149">Required directory role of the calling user</span></span> |
|:------------------|:------------|:--------------------------------------------|
| <span data-ttu-id="7e7b4-150">Чтение</span><span class="sxs-lookup"><span data-stu-id="7e7b4-150">Read</span></span> | <span data-ttu-id="7e7b4-151">ConsentRequest.Read.All, ConsentRequest.ReadWrite.All</span><span class="sxs-lookup"><span data-stu-id="7e7b4-151">ConsentRequest.Read.All, ConsentRequest.ReadWrite.All</span></span> | <span data-ttu-id="7e7b4-152">Глобальный администратор, глобальный читатель, администратор облачных приложений и администратор приложений</span><span class="sxs-lookup"><span data-stu-id="7e7b4-152">Global Administrator, Global Reader, Cloud App Administrator, and Application Administrator</span></span> |
| <span data-ttu-id="7e7b4-153">Update</span><span class="sxs-lookup"><span data-stu-id="7e7b4-153">Update</span></span> | <span data-ttu-id="7e7b4-154">ConsentRequest.ReadWrite.All</span><span class="sxs-lookup"><span data-stu-id="7e7b4-154">ConsentRequest.ReadWrite.All</span></span> |<span data-ttu-id="7e7b4-155">Глобальный администратор</span><span class="sxs-lookup"><span data-stu-id="7e7b4-155">Global Administrator</span></span> |

## <a name="see-also"></a><span data-ttu-id="7e7b4-156">См. также</span><span class="sxs-lookup"><span data-stu-id="7e7b4-156">See also</span></span>

- [<span data-ttu-id="7e7b4-157">Настройка рабочего процесса согласия администратора (предварительный просмотр)</span><span class="sxs-lookup"><span data-stu-id="7e7b4-157">Configure the admin consent workflow (preview)</span></span>](/azure/active-directory/manage-apps/configure-admin-consent-workflow?preserve-view=true)


<!--
{
  "type": "#page.annotation",
  "description": "Service root",
  "keywords": "",
  "section": "documentation",
  "tocPath": "",
  "suppressions": []
}
-->
