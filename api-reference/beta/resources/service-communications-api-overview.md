---
title: Работа с API-службами связи в Microsoft Graph
description: Вы можете использовать API сообщений службы в Microsoft Graph для доступа к состояниям здоровья и сообщениям центра сообщений о службы Майкрософт".
author: payiAzure
localization_priority: Normal
ms.prod: service-communications
doc_type: resourcePageType
ms.openlocfilehash: 1c5690d3cb7eafa6a4914b22687993a1e145cc0a
ms.sourcegitcommit: d586ddb253d27f9ccb621bd128f6a6b4b1933918
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/24/2021
ms.locfileid: "53109252"
---
# <a name="working-with-service-communications-api-in-microsoft-graph"></a><span data-ttu-id="dbbe8-103">Работа с API службы связи в Microsoft Graph</span><span class="sxs-lookup"><span data-stu-id="dbbe8-103">Working with service communications API in Microsoft Graph</span></span>
<span data-ttu-id="dbbe8-104">API сообщений службы предоставляет службы здоровья и сообщений центра сообщений, относящихся к облачным службам Майкрософт, которые подписаны вашим клиентом.</span><span class="sxs-lookup"><span data-stu-id="dbbe8-104">The service communications API provides service health and message center posts pertaining to the Microsoft cloud services subscribed by your tenant.</span></span> <span data-ttu-id="dbbe8-105">Вы можете получить текущие и исторические данные о состоянии здоровья службы Майкрософт (например, Exchange Online службы не существует).</span><span class="sxs-lookup"><span data-stu-id="dbbe8-105">You can get current and historical health data of a Microsoft service (for example, the Exchange Online service is down).</span></span> <span data-ttu-id="dbbe8-106">Вы можете проверить состояние службы, чтобы определить, отслеживается ли проблема и находится ли решение, прежде чем вызывать службу поддержки или тратить время на устранение неполадок.</span><span class="sxs-lookup"><span data-stu-id="dbbe8-106">You can check the service health to determine if an issue is tracked and a resolution is in progress before calling support or spending time troubleshooting.</span></span> <span data-ttu-id="dbbe8-107">Сообщения центра сообщений позволяет отслеживать предстоящие изменения, в том числе новые функции, обновления и другие важные объявления (например, Exchange Online получает новую функцию).</span><span class="sxs-lookup"><span data-stu-id="dbbe8-107">Message center posts let you keep track of upcoming changes, including new features, updates, and other important announcements (for example, Exchange Online is getting a new feature).</span></span>

## <a name="authorization"></a><span data-ttu-id="dbbe8-108">Authorization</span><span class="sxs-lookup"><span data-stu-id="dbbe8-108">Authorization</span></span>
<span data-ttu-id="dbbe8-109">Microsoft Graph позволяет приложениям получать авторизованный доступ к здравоохранению и изменять сообщения о облачной службе Майкрософт, подписанной клиентом.</span><span class="sxs-lookup"><span data-stu-id="dbbe8-109">Microsoft Graph lets applications get authorized access to health and change communications about a Microsoft cloud service subscribed by a tenant.</span></span> <span data-ttu-id="dbbe8-110">С соответствующими разрешениями делегирования или приложения [ваше](/graph/permissions-reference#service-communications-permissions)приложение может получать доступ к данным связи от имени подписанного пользователя или без какого-либо подписанного пользователя в клиенте.</span><span class="sxs-lookup"><span data-stu-id="dbbe8-110">With the appropriate delegated or application [permissions](/graph/permissions-reference#service-communications-permissions), your app can access the communications data on behalf of a signed-in user, or without any signed-in user in the tenant.</span></span> <span data-ttu-id="dbbe8-111">Как делегированная, так и тип приложения этих разрешений предоставляется только администратором.</span><span class="sxs-lookup"><span data-stu-id="dbbe8-111">Both delegated and application types of these permissions are granted by only an administrator.</span></span>

<span data-ttu-id="dbbe8-112">Дополнительные сведения о маркерах доступа, регистрации приложений, делегировании и разрешениях на приложения см. в основных сведениях о проверке подлинности [и авторизации.](/graph/auth/auth-concepts)</span><span class="sxs-lookup"><span data-stu-id="dbbe8-112">For more information on access tokens, app registration, and delegated and application permissions, see [Authentication and authorization basics](/graph/auth/auth-concepts).</span></span>

### <a name="access-service-communications-api-on-behalf-of-signed-in-user"></a><span data-ttu-id="dbbe8-113">API доступа к службам связи от имени подписанного пользователя</span><span class="sxs-lookup"><span data-stu-id="dbbe8-113">Access service communications API on behalf of signed-in user</span></span>

<span data-ttu-id="dbbe8-114">Для доступа к API службы связи от имени подписанного пользователя необходимы делегированные разрешения.</span><span class="sxs-lookup"><span data-stu-id="dbbe8-114">Delegated permissions are needed to access the service communications API on behalf of a signed-in user.</span></span> <span data-ttu-id="dbbe8-115">Приложения холста, стоящие перед [клиентом, такие](https://admin.microsoft.com/Adminportal/Home?source=applauncher#/homepage) как Центр администрирования Microsoft 365 (доступные только для ролей администратора), могут вызывать API коммуникаций службы, чтобы получить данные о состоянии службы и объявлениях службы для клиента подписанного пользователя _от_ имени подписанного пользователя .</span><span class="sxs-lookup"><span data-stu-id="dbbe8-115">Customer-facing canvas applications, such as the [Microsoft 365 admin center](https://admin.microsoft.com/Adminportal/Home?source=applauncher#/homepage) (accessible only to admin roles), can call the service communications API to get the service health and service announcements data for the signed-in user's tenant, _on behalf of the signed-in user_.</span></span> <span data-ttu-id="dbbe8-116">Пользователи могут узнать, являются ли их подписаные службы здоровыми или имеют проблемы.</span><span class="sxs-lookup"><span data-stu-id="dbbe8-116">Users can find out whether their subscribed servies are healthy or have issues.</span></span> <span data-ttu-id="dbbe8-117">Они также могут узнать о текущих проблемах служб, затрагивающих их клиентов.</span><span class="sxs-lookup"><span data-stu-id="dbbe8-117">They can also learn about any current service issues affecting their tenants.</span></span> 

### <a name="access-service-communications-api-without-user"></a><span data-ttu-id="dbbe8-118">API доступа к службам связи без пользователя</span><span class="sxs-lookup"><span data-stu-id="dbbe8-118">Access service communications API without user</span></span>

<span data-ttu-id="dbbe8-119">Для доступа к API службы коммуникаций без подписанного пользователя необходимы разрешения приложений.</span><span class="sxs-lookup"><span data-stu-id="dbbe8-119">Application permissions are needed to access the service communications API without a signed-in user.</span></span> <span data-ttu-id="dbbe8-120">Приложения, которые работают как службы backend, такие как службы мониторинга или оповещения, могут вызывать API сообщений службы с их собственным удостоверением, а не от имени пользователя.</span><span class="sxs-lookup"><span data-stu-id="dbbe8-120">Applications that run as backend services, such as monitoring or alert services, can call the service communications API with their own identity and not on behalf of a user.</span></span> <span data-ttu-id="dbbe8-121">Эти службы могут создавать настраиваемые конвейеры мониторинга и оповещения и вызывать API сообщений службы для получения данных о состоянии службы и объявлениях о службах.</span><span class="sxs-lookup"><span data-stu-id="dbbe8-121">These backend services can build custom monitoring/alert pipelines and call the service communications API to get service health and service announcements data.</span></span> 


## <a name="common-use-cases-and-required-permissions"></a><span data-ttu-id="dbbe8-122">Распространенные случаи использования и необходимые разрешения</span><span class="sxs-lookup"><span data-stu-id="dbbe8-122">Common use cases and required permissions</span></span>

|<span data-ttu-id="dbbe8-123">Варианты использования</span><span class="sxs-lookup"><span data-stu-id="dbbe8-123">Use cases</span></span>|<span data-ttu-id="dbbe8-124">Запросы API</span><span class="sxs-lookup"><span data-stu-id="dbbe8-124">API requests</span></span>| <span data-ttu-id="dbbe8-125">Обязательные разрешения</span><span class="sxs-lookup"><span data-stu-id="dbbe8-125">Required permissions</span></span>| <span data-ttu-id="dbbe8-126">Поддерживаемые типы разрешений</span><span class="sxs-lookup"><span data-stu-id="dbbe8-126">Supported permission types</span></span>|
|:--------|:--------|:--------|:--------|
| <span data-ttu-id="dbbe8-127">Список обзоров состояния здоровья для клиента</span><span class="sxs-lookup"><span data-stu-id="dbbe8-127">List health overviews for tenant</span></span> | [<span data-ttu-id="dbbe8-128">Список healthOverviews</span><span class="sxs-lookup"><span data-stu-id="dbbe8-128">List healthOverviews</span></span>](/graph/api/serviceannouncement-list-healthoverviews?view=graph-rest-beta&preserve-view=true) | <span data-ttu-id="dbbe8-129">_ServiceHealth.Read.All_</span><span class="sxs-lookup"><span data-stu-id="dbbe8-129">_ServiceHealth.Read.All_</span></span> | <span data-ttu-id="dbbe8-130">Делегированная и приложение</span><span class="sxs-lookup"><span data-stu-id="dbbe8-130">Delegated and application</span></span> | 
| <span data-ttu-id="dbbe8-131">Получить определенные сведения о состоянии здоровья службы для клиента</span><span class="sxs-lookup"><span data-stu-id="dbbe8-131">Get specific service health information for tenant</span></span> | [<span data-ttu-id="dbbe8-132">Get serviceHealth</span><span class="sxs-lookup"><span data-stu-id="dbbe8-132">Get serviceHealth</span></span>](/graph/api/servicehealth-get?view=graph-rest-beta&preserve-view=true) | <span data-ttu-id="dbbe8-133">_ServiceHealth.Read.All_</span><span class="sxs-lookup"><span data-stu-id="dbbe8-133">_ServiceHealth.Read.All_</span></span> | <span data-ttu-id="dbbe8-134">Делегированная и приложение</span><span class="sxs-lookup"><span data-stu-id="dbbe8-134">Delegated and application</span></span> |
| <span data-ttu-id="dbbe8-135">Список всех проблем служб для клиента</span><span class="sxs-lookup"><span data-stu-id="dbbe8-135">List all service issues for tenant</span></span> | [<span data-ttu-id="dbbe8-136">Проблемы со списком</span><span class="sxs-lookup"><span data-stu-id="dbbe8-136">List issues</span></span>](/graph/api/serviceannouncement-list-issues?view=graph-rest-beta&preserve-view=true) | <span data-ttu-id="dbbe8-137">_ServiceHealth.Read.All_</span><span class="sxs-lookup"><span data-stu-id="dbbe8-137">_ServiceHealth.Read.All_</span></span> | <span data-ttu-id="dbbe8-138">Делегированная и приложение</span><span class="sxs-lookup"><span data-stu-id="dbbe8-138">Delegated and application</span></span> |
| <span data-ttu-id="dbbe8-139">Получить определенную проблему службы для клиента</span><span class="sxs-lookup"><span data-stu-id="dbbe8-139">Get a specific service issue for tenant</span></span> | [<span data-ttu-id="dbbe8-140">Получить проблему</span><span class="sxs-lookup"><span data-stu-id="dbbe8-140">Get issue</span></span>](/graph/api/servicehealthissue-get?view=graph-rest-beta&preserve-view=true) | <span data-ttu-id="dbbe8-141">_ServiceHealth.Read.All_</span><span class="sxs-lookup"><span data-stu-id="dbbe8-141">_ServiceHealth.Read.All_</span></span> | <span data-ttu-id="dbbe8-142">Делегированная и приложение</span><span class="sxs-lookup"><span data-stu-id="dbbe8-142">Delegated and application</span></span> |
| <span data-ttu-id="dbbe8-143">Получите отчет о проверке после инцидента для клиента</span><span class="sxs-lookup"><span data-stu-id="dbbe8-143">Get a post-incident review report for tenant</span></span> | [<span data-ttu-id="dbbe8-144">Получить отчет об инциденте</span><span class="sxs-lookup"><span data-stu-id="dbbe8-144">Get incident report</span></span>](/graph/api/servicehealthissue-incidentreport?view=graph-rest-beta&preserve-view=true)| <span data-ttu-id="dbbe8-145">_ServiceHealth.Read.All_</span><span class="sxs-lookup"><span data-stu-id="dbbe8-145">_ServiceHealth.Read.All_</span></span> | <span data-ttu-id="dbbe8-146">Делегированная и приложение</span><span class="sxs-lookup"><span data-stu-id="dbbe8-146">Delegated and application</span></span> |
| <span data-ttu-id="dbbe8-147">Список всех сообщений службы для клиента</span><span class="sxs-lookup"><span data-stu-id="dbbe8-147">List all service messages for tenant</span></span> | [<span data-ttu-id="dbbe8-148">Список сообщений</span><span class="sxs-lookup"><span data-stu-id="dbbe8-148">List messages</span></span>](/graph/api/serviceannouncement-list-messages?view=graph-rest-beta&preserve-view=true) | <span data-ttu-id="dbbe8-149">_ServiceMessage.Read.All_</span><span class="sxs-lookup"><span data-stu-id="dbbe8-149">_ServiceMessage.Read.All_</span></span> | <span data-ttu-id="dbbe8-150">Делегированная и приложение</span><span class="sxs-lookup"><span data-stu-id="dbbe8-150">Delegated and application</span></span> |
| <span data-ttu-id="dbbe8-151">Получить определенное сообщение службы для клиента</span><span class="sxs-lookup"><span data-stu-id="dbbe8-151">Get a specific service message for tenant</span></span> | [<span data-ttu-id="dbbe8-152">Получение сообщения</span><span class="sxs-lookup"><span data-stu-id="dbbe8-152">Get message</span></span>](/graph/api/serviceupdatemessage-get?view=graph-rest-beta&preserve-view=true) | <span data-ttu-id="dbbe8-153">_ServiceMessage.Read.All_</span><span class="sxs-lookup"><span data-stu-id="dbbe8-153">_ServiceMessage.Read.All_</span></span> | <span data-ttu-id="dbbe8-154">Делегированная и приложение</span><span class="sxs-lookup"><span data-stu-id="dbbe8-154">Delegated and application</span></span> |
| <span data-ttu-id="dbbe8-155">Обновление состояния сообщения службы для записи в пользователе</span><span class="sxs-lookup"><span data-stu-id="dbbe8-155">Update service message status for signed in user</span></span> | <span data-ttu-id="dbbe8-156">Список операций состояния см. в [странице serviceUpdateMessage.](/graph/api/resources/serviceupdatemessage?view=graph-rest-beta&preserve-view=true)</span><span class="sxs-lookup"><span data-stu-id="dbbe8-156">For a list of status operations, see [serviceUpdateMessage](/graph/api/resources/serviceupdatemessage?view=graph-rest-beta&preserve-view=true).</span></span>| <span data-ttu-id="dbbe8-157">_ServiceMessageViewpoint.Write_</span><span class="sxs-lookup"><span data-stu-id="dbbe8-157">_ServiceMessageViewpoint.Write_</span></span> | <span data-ttu-id="dbbe8-158">Делегированные разрешения</span><span class="sxs-lookup"><span data-stu-id="dbbe8-158">Delegated</span></span> |

## <a name="whats-new"></a><span data-ttu-id="dbbe8-159">Новые возможности</span><span class="sxs-lookup"><span data-stu-id="dbbe8-159">What's new</span></span>
<span data-ttu-id="dbbe8-160">Узнайте о [новых функциях и обновлениях](/graph/whats-new-overview) для этого набора API.</span><span class="sxs-lookup"><span data-stu-id="dbbe8-160">Find out about the [latest new features and updates](/graph/whats-new-overview) for this API set.</span></span>

## <a name="next-steps"></a><span data-ttu-id="dbbe8-161">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="dbbe8-161">Next steps</span></span>

<span data-ttu-id="dbbe8-162">API сообщений службы может открыть новые способы взаимодействия с пользователями:</span><span class="sxs-lookup"><span data-stu-id="dbbe8-162">The service communications API can open up new ways for you to engage with users:</span></span>

- [<span data-ttu-id="dbbe8-163">Обзор доступа к состоянию службы и коммуникациям в Microsoft Graph</span><span class="sxs-lookup"><span data-stu-id="dbbe8-163">Overview for accessing service health and communications in Microsoft Graph</span></span>](/graph/service-communications-concept-overview)
- <span data-ttu-id="dbbe8-164">Опробуйте API в [песочнице Graph](https://developer.microsoft.com/graph/graph-explorer).</span><span class="sxs-lookup"><span data-stu-id="dbbe8-164">Try the API in the [Graph Explorer](https://developer.microsoft.com/graph/graph-explorer).</span></span>

<span data-ttu-id="dbbe8-p105">Нужны идеи? Посмотрите, [как наши партнеры используют Microsoft Graph](https://developer.microsoft.com/en-us/graph/partners).</span><span class="sxs-lookup"><span data-stu-id="dbbe8-p105">Need more ideas? See [how some of our partners are using Microsoft Graph](https://developer.microsoft.com/en-us/graph/partners).</span></span>