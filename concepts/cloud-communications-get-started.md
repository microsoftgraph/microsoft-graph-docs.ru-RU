---
title: Начало работы с облачными коммуникациями
description: Узнайте, как использовать боты для удовлетворения потребностей клиентов и облегчения совместной работы.
author: ananmishr
localization_priority: Normal
ms.prod: cloud-communications
ms.openlocfilehash: a1c2ff420df58be8345924c2c6622f7cc6647551
ms.sourcegitcommit: db3d2c6db8dd8f8cc14bdcebb2904d5e056a73e7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/20/2021
ms.locfileid: "52579685"
---
# <a name="get-started-with-cloud-communications"></a><span data-ttu-id="ff455-103">Начало работы с облачными коммуникациями</span><span class="sxs-lookup"><span data-stu-id="ff455-103">Get started with cloud communications</span></span>

<span data-ttu-id="ff455-104">API облачных коммуникаций в Microsoft Graph новое измерение взаимодействия приложений и служб с пользователями с помощью различных функций, связанных с коммуникацией, таких как вызовы и собрания в Интернете.</span><span class="sxs-lookup"><span data-stu-id="ff455-104">The cloud communications APIs in Microsoft Graph add a new dimension to how your apps and services interact with users through various communications related features, such as calling and online meetings.</span></span> <span data-ttu-id="ff455-105">В этой статье описывается, как можно использовать боты для удовлетворения потребностей клиентов и облегчения совместной работы.</span><span class="sxs-lookup"><span data-stu-id="ff455-105">This article describes how you can use bots to respond to your customers' needs and facilitate collaboration.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="ff455-106">Предварительные условия</span><span class="sxs-lookup"><span data-stu-id="ff455-106">Prerequisites</span></span>

<span data-ttu-id="ff455-107">Перед началом работы полезно ознакомиться со следующими словами:</span><span class="sxs-lookup"><span data-stu-id="ff455-107">Before  you get started, it will be helpful to familiarize yourself with the following:</span></span>

- <span data-ttu-id="ff455-108">[Azure Active Directory](/azure/active-directory/fundamentals/active-directory-whatis) (Azure AD) и как служба помогает сотрудникам войти и получить доступ к ресурсам.</span><span class="sxs-lookup"><span data-stu-id="ff455-108">[Azure Active Directory](/azure/active-directory/fundamentals/active-directory-whatis) (Azure AD) and how the service helps employees sign in and access resources.</span></span>
- <span data-ttu-id="ff455-109">Служба [ботов Azure и](/azure/bot-service/bot-service-overview-introduction?view=azure-bot-service-3.0) ее возможности.</span><span class="sxs-lookup"><span data-stu-id="ff455-109">The [Azure Bot Service](/azure/bot-service/bot-service-overview-introduction?view=azure-bot-service-3.0) and its capabilities.</span></span>

## <a name="register-a-bot"></a><span data-ttu-id="ff455-110">Регистрация бота</span><span class="sxs-lookup"><span data-stu-id="ff455-110">Register a bot</span></span>

<span data-ttu-id="ff455-111">Термины "приложение-служба" и "бот" можно использовать взаимозаменяемо.</span><span class="sxs-lookup"><span data-stu-id="ff455-111">The terms "service application" and "bot" can be used interchangeably.</span></span> <span data-ttu-id="ff455-112">Вы можете создать бот непосредственно на [портале Azure](https://azure.microsoft.com/features/azure-portal/) или зарегистрировать бота, который не имеется в Azure.</span><span class="sxs-lookup"><span data-stu-id="ff455-112">You can either create a bot through the [Azure portal](https://azure.microsoft.com/features/azure-portal/) directly or register a bot that isn't hosted on Azure.</span></span> <span data-ttu-id="ff455-113">Дополнительные сведения о процессе регистрации ботов см. в [материале Регистрация вызываемого бота.](https://microsoftgraph.github.io/microsoft-graph-comms-samples/docs/articles/calls/register-calling-bot.html)</span><span class="sxs-lookup"><span data-stu-id="ff455-113">For more details about the bot registration process, see [Registering a calling bot](https://microsoftgraph.github.io/microsoft-graph-comms-samples/docs/articles/calls/register-calling-bot.html).</span></span> 

<span data-ttu-id="ff455-114">Чтобы упростить работу в дальнейшем, полезно понять различные типы разрешений [в](/azure/active-directory/develop/v1-permissions-and-consent#types-of-permissions) Azure AD.</span><span class="sxs-lookup"><span data-stu-id="ff455-114">To make things easier later, it's helpful to understand the different [types of permissions](/azure/active-directory/develop/v1-permissions-and-consent#types-of-permissions) within Azure AD.</span></span> <span data-ttu-id="ff455-115">Приложения с делегированными разрешениями требуют от пользователя, вписаного в нее.</span><span class="sxs-lookup"><span data-stu-id="ff455-115">Apps with delegated permissions require a signed-in user.</span></span> <span data-ttu-id="ff455-116">Разрешения, основанные на приложениях, не требуются пользователю, который может часто работать в качестве фоновой службы.</span><span class="sxs-lookup"><span data-stu-id="ff455-116">Application-based permissions don't need a signed-in user, and can often run as a background service.</span></span>

<span data-ttu-id="ff455-117">После регистрации бота, если вы хотите добавить бот в [Microsoft Teams,](/microsoftteams/platform/concepts/calls-and-meetings/registering-calling-bot)убедитесь, [](/microsoftteams/platform/get-started/get-started-app-studio) что вы понимаете, как использовать студию приложений и определить необходимые метаданные.</span><span class="sxs-lookup"><span data-stu-id="ff455-117">After you register your bot, if you'd like to [add your bot to Microsoft Teams](/microsoftteams/platform/concepts/calls-and-meetings/registering-calling-bot), make sure you understand how to use [app studio](/microsoftteams/platform/get-started/get-started-app-studio) and define the required metadata.</span></span>

## <a name="manage-the-state-of-the-bot"></a><span data-ttu-id="ff455-118">Управление состоянием бота</span><span class="sxs-lookup"><span data-stu-id="ff455-118">Manage the state of the bot</span></span>

<span data-ttu-id="ff455-119">После регистрации бота определите, хотите ли вы, чтобы аудио- и видеосвязь была размещена в приложении или [размещена в службе.](cloud-communications-media.md)</span><span class="sxs-lookup"><span data-stu-id="ff455-119">After you register your bot, decide whether you want your audio and video-based media to be [application-hosted or service-hosted](cloud-communications-media.md).</span></span> <span data-ttu-id="ff455-120">На высоком уровне для этого необходимо решить, хотите ли вы получить доступ к живому потоку необработанных средств массовой информации.</span><span class="sxs-lookup"><span data-stu-id="ff455-120">At a high level, this involves deciding whether or not you want to access a live-stream of raw media.</span></span>

<span data-ttu-id="ff455-121">Далее вы можете решить, лучше ли для вашего бота быть [состоянием или без состояния](https://microsoftgraph.github.io/microsoft-graph-comms-samples/docs/articles/calls/StateManagement.html).</span><span class="sxs-lookup"><span data-stu-id="ff455-121">Next, you can decide whether it's best for your bot to be [stateful or stateless](https://microsoftgraph.github.io/microsoft-graph-comms-samples/docs/articles/calls/StateManagement.html).</span></span>

### <a name="stateless-bots"></a><span data-ttu-id="ff455-122">Боты без состояния</span><span class="sxs-lookup"><span data-stu-id="ff455-122">Stateless bots</span></span>

<span data-ttu-id="ff455-123">Любая виртуальная машина может обрабатывать любой экземпляр бота, что означает, что если одна машина идет вниз, другой может заботиться о нем.</span><span class="sxs-lookup"><span data-stu-id="ff455-123">Any virtual machine can handle any bot instance, which means that if one machine goes down, another can take care of it.</span></span> <span data-ttu-id="ff455-124">Это позволяет сделать решение устойчивым.</span><span class="sxs-lookup"><span data-stu-id="ff455-124">This makes for a resilient solution.</span></span>

<span data-ttu-id="ff455-125">С другой стороны, общий кэш, например REDIS, должен быть доступен для всех виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="ff455-125">On the other hand, a shared cache, such as REDIS, needs to be accessible to all the virtual machines.</span></span>

### <a name="stateful-bots"></a><span data-ttu-id="ff455-126">Состояние ботов</span><span class="sxs-lookup"><span data-stu-id="ff455-126">Stateful bots</span></span>

<span data-ttu-id="ff455-127">Виртуальная машина может обрабатывать только один экземпляр бота одновременно.</span><span class="sxs-lookup"><span data-stu-id="ff455-127">A virtual machine can handle only one bot instance at a time.</span></span> <span data-ttu-id="ff455-128">Так как все состояния находятся на одной машине, дополнительные проверки памяти или проверки кэша REDIS не проводятся.</span><span class="sxs-lookup"><span data-stu-id="ff455-128">Because all the states are on one machine, there aren't any extra memory checks or REDIS cache checks.</span></span>

<span data-ttu-id="ff455-129">Недостатком является то, что, поскольку экземпляр бота находится только на одной машине, он не так устойчив.</span><span class="sxs-lookup"><span data-stu-id="ff455-129">The drawback is that because the bot instance is just on one machine, it isn't as resilient.</span></span>

><span data-ttu-id="ff455-130">**Примечание:** Медиа-боты, на которые есть служба, могут иметь состояние или состояние без состояния.</span><span class="sxs-lookup"><span data-stu-id="ff455-130">**Note:** Service-hosted media bots can be stateful or stateless.</span></span> <span data-ttu-id="ff455-131">Для использования [SDK Bot Media SDK](https://www.nuget.org/packages/Microsoft.Skype.Bots.Media)с использованием средств массовой информации, на которые есть приложения, необходимо применять состояние.</span><span class="sxs-lookup"><span data-stu-id="ff455-131">Application-hosted media bots must be stateful in order to use the [Bot Media SDK](https://www.nuget.org/packages/Microsoft.Skype.Bots.Media).</span></span>

## <a name="use-the-sdks"></a><span data-ttu-id="ff455-132">Использование пакетов SDK</span><span class="sxs-lookup"><span data-stu-id="ff455-132">Use the SDKs</span></span>

<span data-ttu-id="ff455-133">Следующие SDKs доступны в C#.</span><span class="sxs-lookup"><span data-stu-id="ff455-133">The following SDKs are available in C#.</span></span> <span data-ttu-id="ff455-134">В будущем мы будем поддерживать другие языки.</span><span class="sxs-lookup"><span data-stu-id="ff455-134">We will provide support for other languages in the future.</span></span>

- <span data-ttu-id="ff455-135">Если вы используете **боты** без состояния, [установите Graph SDK communications Core](https://www.nuget.org/packages/Microsoft.Graph.Communications.Core).</span><span class="sxs-lookup"><span data-stu-id="ff455-135">If you're using **stateless** bots, install the [Graph Communications Core SDK](https://www.nuget.org/packages/Microsoft.Graph.Communications.Core).</span></span>
- <span data-ttu-id="ff455-136">Если вы используете состояние **ботов,** установите Graph [связи вызова SDK](https://www.nuget.org/packages/Microsoft.Graph.Communications.Calls).</span><span class="sxs-lookup"><span data-stu-id="ff455-136">If you're using **stateful** bots, install the [Graph Communications Calling SDK](https://www.nuget.org/packages/Microsoft.Graph.Communications.Calls).</span></span>

## <a name="examples"></a><span data-ttu-id="ff455-137">Примеры</span><span class="sxs-lookup"><span data-stu-id="ff455-137">Examples</span></span>

<span data-ttu-id="ff455-138">Узнайте, как реализовать различные сценарии с помощью [](https://microsoftgraph.github.io/microsoft-graph-comms-samples/docs/articles/index.html#example-incoming-calls) штатных ботов, например отвечать на входящий вызов с помощью средств массовой информации с хост-службами или приложениями.</span><span class="sxs-lookup"><span data-stu-id="ff455-138">Learn how to implement different scenarios using stateful bots, such as [answering an incoming call](https://microsoftgraph.github.io/microsoft-graph-comms-samples/docs/articles/index.html#example-incoming-calls) with either application-hosted or service-hosted media.</span></span>

<span data-ttu-id="ff455-139">Дополнительные примеры см. в [репозитории образцов communications.](https://microsoftgraph.github.io/microsoft-graph-comms-samples/docs/index.html)</span><span class="sxs-lookup"><span data-stu-id="ff455-139">For more examples, see the [Communications samples repository](https://microsoftgraph.github.io/microsoft-graph-comms-samples/docs/index.html).</span></span>

## <a name="privacy-and-compliance"></a><span data-ttu-id="ff455-140">Конфиденциальность и соответствие требованиям</span><span class="sxs-lookup"><span data-stu-id="ff455-140">Privacy and compliance</span></span>

<span data-ttu-id="ff455-141">В запросах на наши API конфиденциальные данные не следует отослать в заглавные и запросные ID-данные в заглавных заголовках или в теле запроса.</span><span class="sxs-lookup"><span data-stu-id="ff455-141">In the requests to our APIs, sensitive data should not be sent in any client-side generated IDs (such as scenario IDs, request IDs, or other correlation IDs) in headers or the request body.</span></span> <span data-ttu-id="ff455-142">Эти ID будут зарегистрированы на стороне сервера для диагностики.</span><span class="sxs-lookup"><span data-stu-id="ff455-142">These IDs will be logged on the server side for diagnostics.</span></span>
