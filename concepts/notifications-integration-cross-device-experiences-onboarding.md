---
title: Подключенный интерфейс для обмена уведомлениями между устройствами (устарело)
description: Вашему приложению необходимо зарегистрировать сведения о разных устройствах, чтобы разрешить Microsoft Graph отправлять уведомления через собственные службы push-уведомлений (устарело).
ms.localizationpriority: high
ms.prod: notifications
author: merzink
ms.openlocfilehash: a3c229f71a43222a642c4c1113edaf4b99b27535
ms.sourcegitcommit: b2b3c3ae00f9e2e0bb2dcff30e97b60ccdebf170
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/29/2022
ms.locfileid: "66444819"
---
# <a name="onboarding-to-cross-device-experiences-for-microsoft-graph-notifications-deprecated"></a>Подключение использования разных устройств для уведомлений Microsoft Graph (устарело)

> [!IMPORTANT]
> API уведомлений Microsoft Graph не рекомендуется использовать, Он прекратил возвращать данные в январе 2022 г. Дополнительные сведения об уведомлениях см. в [Центрах уведомлений Microsoft Azure](/azure/notification-hubs). Дополнительные сведения см. в записи блога [Прекращение поддержки API уведомлений Microsoft Graph (бета-версия)](https://devblogs.microsoft.com/microsoft365dev/retiring-microsoft-graph-notifications/).

>[!NOTE]
>Если вашей целью являются только конечные веб-точки, вы можете сразу перейти к настройке отправки уведомлений в [службе приложений](notifications-integrating-app-server.md).

Кроме [регистрации на портале Azure](notifications-integration-app-registration.md) вашему приложению также необходимо зарегистрировать сведения о применении на разных устройствах, например идентификатор кроссплатформенного приложения и учетные данные кроссплатформенных push-уведомлений, чтобы разрешить Microsoft Graph отправлять уведомления через собственные службы push-уведомлений, соответствующие операционной системе Windows, iOS или Android. Это выполняется с помощью [панели мониторинга Центра партнеров (прежнее название — информационная панель Центра разработки для Windows)](https://partner.microsoft.com/dashboard/). 

> [!NOTE]
> Для выполнения действий, описанных в этой статье, потребуется учетная запись разработчика Windows, даже если вы не планируете создавать приложение Windows (UWP). Если у вас ее еще нет, см. раздел [Открытие учетной записи разработчика](/windows/uwp/publish/opening-a-developer-account). Если вы предпочитаете не регистрироваться в качестве разработчика Windows, вы можете написать нам на [gnsengage@microsoft.com](sendto: gnsengage@microsoft.com). Если вы создаете учетную запись разработчика Windows и учебное или рабочее приложение в рамках организации, можно связать учетную запись разработчика с соответствующей учетной записью Azure AD, используемой для управления корпоративной отправкой. Дополнительные сведения см. в статье [Связывание Azure Active Directory с учетной записью Центра партнеров](/windows/uwp/publish/associate-azure-ad-with-partner-center).

Чтобы приступить к работе, выполните вход в [панель мониторинга Центра партнеров](https://partner.microsoft.com/dashboard), используя свою учетную запись разработчика Windows.

1.  В меню слева перейдите в раздел **Работа на разных устройствах**, выберите **Настройка нового приложения для разных устройств** и укажите имя приложения, как показано на снимке экрана ниже.

![Регистрация настройки нового приложения для разных устройств](images/notifications-crossdevice-new-configure.png)

2.  Выберите все поддерживаемые платформы, на которых будет применяться и сможет получать уведомления ваше приложение. Вы можете выбрать поддерживаемые платформы, включающие Windows, Android и iOS, как показано ниже. 

![Настройка поддерживаемых типов платформ](images/notifications-crossdevice-supported-platforms.png)

3.  Укажите идентификаторы приложения для каждой платформы, на которой будет применяться ваше приложение, как показано ниже.

 ![Предоставление идентификаторов приложения для определенных платформ](images/notifications-crossdevice-platform-appids.png)

> [!NOTE] 
> Вы можете добавлять разные идентификаторы (до десяти) для каждой платформы на случай наличия нескольких версий одного приложения или разных приложений, которым нужна возможность получения одинаковых уведомлений, отправляемых вашим сервером приложений и предназначенных для одного пользователя.

4.  Укажите или выберите идентификатор приложения из учетной записи Майкрософт и/или регистрации приложения Azure AD. Этот идентификатор клиента соответствует сведениям учетной записи Майкрософт или регистрации приложения Azure AD, полученным при регистрации на портале Azure.

![Предоставление идентификаторов клиента из регистрации приложения Azure для MSA и AAD](images/notifications-crossdevice-azureportal-clientid.png)

5.  Уведомления Microsoft Graph используют каждую из собственных платформ уведомлений на всех основных платформах для отправки уведомлений в конечные точки клиента приложения, а именно: WNS (для UWP Windows), FCM (для Android) и APNS (для iOS). Предоставьте свои учетные данные для этих платформ уведомлений, чтобы разрешить службе уведомлений Microsoft Graph доставлять уведомления для вашего сервера приложений, когда вы публикуете уведомления, ориентированные на пользователя, как показано ниже.

 ![Предоставление учетных данных для push-уведомлений на разных устройствах](images/notifications-crossdevice-push-cred.png)

> [!NOTE]
> Для приложений UWP Windows включение push-уведомлений WNS является необходимым условием для использования уведомлений Microsoft Graph. Дополнительные сведения см. в статье [Обзор WNS](/windows/uwp/design/shell/tiles-and-notifications/windows-push-notification-services--wns--overview). После внедрения вы сможете предоставлять учетные данные push-уведомлений через Центр партнеров для платформы подключенных устройств.

6.  Проверьте домен приложения для разных устройств. Это служит процедурой проверки, подтверждающей, что ваше приложение владеет этим доменом. Для зарегистрированного вами приложения или приложений это является удостоверением приложения на разных устройствах, как показано ниже.
    
    ![Проверка домена](images/notifications-crossdevice-domain-verify.png)

Готово! Вы зарегистрировали свои приложения для получения уведомлений. Далее вы узнаете, как настроить [службу приложений](notifications-integrating-app-server.md) и начать отправку уведомлений.
