---
title: 'Разбиение данных Microsoft Graph по страницам в приложении '
description: 'свойство odata.nextLink в ответе, содержащем URL-адрес следующей страницы результатов. '
author: davidmu1
localization_priority: Priority
ms.custom: graphiamtop20, scenarios:getting-started
ms.openlocfilehash: 43a6de159a7a9d15ace7121d517767b2e15676f40b426955bd5ea518616eb282
ms.sourcegitcommit: 986c33b848fa22a153f28437738953532b78c051
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/05/2021
ms.locfileid: "54123900"
---
# <a name="paging-microsoft-graph-data-in-your-app"></a>Разбиение данных Microsoft Graph по страницам в приложении 

Некоторые запросы к Microsoft Graph возвращают несколько страниц данных. Это происходит из-за разбиения по страницам на стороне сервера или из-за использования параметра `$top`, который ограничивает размер страниц в запросе. Когда результирующий набор занимает несколько страниц, Microsoft Graph в ответ возвращает свойство `@odata.nextLink`, содержащее URL-адрес следующей страницы результатов. 

Например, в приведенном ниже URL-адресе запрашивается список всех пользователей в организации, при этом с помощью параметра запроса `$top` указан размер страницы — 5:

```html
https://graph.microsoft.com/v1.0/users?$top=5
```

Если результат содержит более пяти пользователей, Microsoft Graph возвращает свойство `@odata.nextLink` (как показанный ниже пример) вместе с первой страницей пользователей.

```json
"@odata.nextLink": "https://graph.microsoft.com/v1.0/users?$top=5&$skiptoken=X%274453707 ... 6633B900000000000000000000%27"
```

Следующую страницу результатов можно получить, отправив значение URL-адреса свойства `@odata.nextLink` в Microsoft Graph. 

```html
https://graph.microsoft.com/v1.0/users?$top=5&$skiptoken=X%274453707 ... 6633B900000000000000000000%27
```

В каждом ответе Microsoft Graph будет возвращать ссылку на следующую страницу данных в свойстве `@odata.nextLink`, пока не будут прочитаны все страницы результатов.

>**Важно!** При запросе следующей страницы результатов в свойство `@odata.nextLink` следует включить полный URL-адрес. В зависимости от API, к которому выполняется запрос, значение URL-адреса `@odata.nextLink` будет содержать один из двух параметров запроса: `$skiptoken` или `$skip`. URL-адрес также содержит все остальные параметры, имеющиеся в исходном запросе. Не пытайтесь извлечь значение `$skiptoken` или `$skip` и использовать его в другом запросе. 

Для различных API Microsoft Graph характерны свои особенности разбиения по страницам. При работе со страницами данных необходимо учитывать следующее:

- Разные API могут иметь различные максимальные размеры страницы и размеры страницы по умолчанию.
- Различные API могут работать по-разному, если указанный (с помощью параметра запроса `$top`) размер страницы превышает максимальное значение для соответствующего API. В зависимости от API запрошенный размер страницы может быть проигнорирован, может быть возвращен максимальный размер страницы для соответствующего API или же Microsoft Graph может вернуть ошибку.
 
- Некоторые ресурсы и отношения не поддерживают разбиение по страницам, например запросы к [directoryRoles](/graph/api/resources/directoryrole).
Сюда относится считывание самих объектов ролей, а также участников ролей.
- При разбиении на страницы по ресурсам каталога все дополнительные заголовки запросов, например **ConsistencyLevel**, по умолчанию не включаются в последующие запросы страниц. Если эти заголовки требуется отправлять в последующие запросы, их необходимо явно настроить.
- Если используется строка запроса `$count=true` во время запрашивания ресурсов каталога, свойство `@odata.count` будет присутствовать только на первой странице данных подкачки.

## <a name="learn-more-about-paging"></a>Подробнее о разбиении данных
Следующее видео познакомит вас с разбиением данных в Microsoft Graph.

> [!VIDEO https://www.youtube-nocookie.com/embed/DB_NoC9a1JI]
