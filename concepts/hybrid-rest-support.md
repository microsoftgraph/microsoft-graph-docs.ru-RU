---
title: Использование интерфейсов REST API для доступа к гибридным развертываниям Exchange (предварительная версия)
description: Служба Microsoft Graph предоставляет доступ к почтовым ящикам пользователей в облаке в Exchange Online в составе Microsoft 365.
ms.localizationpriority: high
ms.openlocfilehash: 6234d90e23d3db903f63127f94a30c160db1a612
ms.sourcegitcommit: 6c04234af08efce558e9bf926062b4686a84f1b2
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/12/2021
ms.locfileid: "59055754"
---
# <a name="use-rest-apis-to-access-mailboxes-in-exchange-hybrid-deployments-preview"></a>Использование интерфейсов REST API для доступа к гибридным развертываниям Exchange (предварительная версия)

Служба Microsoft Graph предоставляет доступ к почтовым ящикам пользователей в облаке в Exchange Online в составе Microsoft 365. В Exchange 2016 с накопительным пакетом обновления 3 (CU3), выпущенным в сентябре 2016 г. для локальных серверов Exchange, добавлена поддержка интеграции REST API с Microsoft 365. В приложениях, использующих API для управления [почтой](/graph/api/resources/message?view=graph-rest-1.0), [календарем](/graph/api/resources/calendar?view=graph-rest-1.0) и [контактами](/graph/api/resources/contact?view=graph-rest-1.0) версии 1.0, значительно упростились проверка подлинности и авторизация в _гибридных_ развертываниях, независимо от расположения почтового ящика (локально или в облаке), при условии что развертывание соответствует определенным [требованиям](#requirements-for-the-rest-api-to-work-in-hybrid-deployments). 


При этом, когда служба Microsoft Graph обнаруживает вызов REST API, запрашивающий доступ к локальному почтовому ящику в гибридном развертывании, она направляет запрос REST в локальную конечную точку REST, которая затем обрабатывает запрос. Это обнаружение делает возможным доступ к REST API.

>**Примечание.** В предварительной версии уже доступно использование этих интерфейсов REST API в гибридных развертываниях.

>Для почтовых ящиков в гибридных развертываниях доступны только API почты, календаря и контактов версии 1.0. Другие наборы API версии 1.0, такие как API [групп](/graph/api/resources/group?view=graph-rest-1.0), или интерфейсы API других версий не поддерживаются. При попытке использовать API, входящий в набор, который не поддерживается в этом гибридном развертывании, появится следующее сообщение об ошибке:

>"Интерфейсы REST API для этого почтового ящика в настоящее время находятся в предварительной версии. Дополнительные сведения об интерфейсах REST API предварительной версии можно найти на сайте https://dev.outlook.com".

## <a name="requirements-for-the-rest-api-to-work-in-hybrid-deployments"></a>Требования к REST API для работы в гибридных развертываниях

Microsoft Graph обеспечивает открытость (поддержку таких открытых стандартов, как JSON, OAUTH и ODATA, при подключении с самых популярных платформ) и гибкость (фрагментарные разрешения на доступ к данным пользователя с точно заданной областью). Если ваша организация заинтересована в разработке приложений Microsoft Graph, а также использует или планирует использовать гибридное развертывание, учитывайте следующие требования к развертыванию:

- Требования к почтовым ящикам

  - Все локальные почтовые ящики, использующие интерфейсы REST API, должны находиться в базах данных на серверах Exchange 2016 с накопительным пакетом обновления 3 (CU3). 

- Требования к инфраструктуре

  - На всех серверах Exchange 2016 необходимо установить накопительный пакет обновления 3 (CU3) или более позднюю версию.  
  - Локальная служба Active Directory должна синхронизироваться с Azure Active Directory.
  - Все серверы Exchange 2013, находящиеся в том же массиве с балансировкой нагрузки, что и серверы Exchange 2016, необходимо удалить из массива.

- Требования к сети

  - С точки зрения DNS пространства имен автообнаружения и локального клиента должны быть записями DNS Интернета. 
  - Если у вас есть брандмауэр или шлюз приложения, который отслеживает и ограничивает доступ, измените соответствующие параметры, чтобы разрешить обнаружение и доступ.


Дополнительные сведения для ИТ-администраторов см. в указанных ниже источниках.

- [Гибридные развертывания Exchange Server](/exchange/exchange-hybrid)
- [Выпуск накопительного пакета обновления за сентябрь 2016 г.](https://blogs.technet.microsoft.com/exchange/2016/09/20/released-september-2016-quarterly-exchange-updates/) 
- [Требования к локальной архитектуре для REST API](https://blogs.technet.microsoft.com/exchange/2016/09/26/on-premises-architectural-requirements-for-the-rest-api/)
