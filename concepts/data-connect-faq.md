---
title: 'Подключение к данным Microsoft Graph: часто задаваемые вопросы'
description: Советы, помогающие воспользоваться преимуществами подключения к данным Microsoft Graph.
author: fercobo-msft
localization_priority: Priority
ms.prod: data-connect
ms.openlocfilehash: 7d8001c0517b38fdee910e609e76f5891e84ba03
ms.sourcegitcommit: 276a13a37c3772689dfc71f7cd47586c9581f27d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/24/2021
ms.locfileid: "52629691"
---
# <a name="microsoft-graph-data-connect-frequently-asked-questions"></a><span data-ttu-id="3a9d6-103">Подключение к данным Microsoft Graph: часто задаваемые вопросы</span><span class="sxs-lookup"><span data-stu-id="3a9d6-103">Microsoft Graph Data Connect frequently asked questions</span></span>

<span data-ttu-id="3a9d6-104">Подключение к данным Microsoft Graph позволяет разработчикам создавать приложения, которым пользователи смогут предоставлять управляемый доступ к масштабным наборам данных Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-104">Microsoft Graph Data Connect allows developers to create applications that customers can provide managed access to their at-scale Microsoft Graph datasets.</span></span> <span data-ttu-id="3a9d6-105">Эта статья содержит советы, помогающие воспользоваться преимуществами функции подключения к данным.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-105">This article provides tips that will help you take advantage of the Data Connect feature.</span></span> <span data-ttu-id="3a9d6-106">Для знакомства с подключением к данным Microsoft Graph см. статью [Обзор](data-connect-concept-overview.md).</span><span class="sxs-lookup"><span data-stu-id="3a9d6-106">For an introduction to Microsoft Graph Data Connect, see the [Overview](data-connect-concept-overview.md) article.</span></span>

## <a name="is-microsoft-graph-data-connect-right-for-me"></a><span data-ttu-id="3a9d6-107">Подходит ли мне функция подключения к данным Microsoft Graph?</span><span class="sxs-lookup"><span data-stu-id="3a9d6-107">Is Microsoft Graph Data Connect right for me?</span></span>

<span data-ttu-id="3a9d6-108">Подключение к данным и API Microsoft Graph обеспечивают доступ к одинаковым базовым данным, но очень разными способами.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-108">Data Connect and the Microsoft Graph APIs provide access to the same underlying data but in very different ways.</span></span> <span data-ttu-id="3a9d6-109">Подключение к данным предназначено для массового извлечения больших объемов данных, а API Microsoft Graph больше подходит для доступа к отдельным наборам данных в режиме реального времени.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-109">Data Connect is designed to extract large amounts of data in bulk while the Microsoft Graph APIs are more suitable for accessing discrete sets of data in real time.</span></span> <span data-ttu-id="3a9d6-110">В некоторых случаях можно даже объединить их.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-110">In some cases, it might even make sense to combine them.</span></span> <span data-ttu-id="3a9d6-111">Например, может потребоваться использовать подключение к данным, чтобы выполнить начальное извлечение данных электронной почты за последний год, а затем применить API Microsoft Graph для дальнейшего анализа писем в режиме реального времени.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-111">For example, you might want use Data Connect to do an initial extraction of the last year of email data, and then use the Microsoft Graph APIs to analyze emails in real time moving forward.</span></span> <span data-ttu-id="3a9d6-112">Подключение к данным и API Microsoft Graph — это разные средства для разных задач.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-112">Data Connect and the Microsoft Graph APIs are different tools for different jobs.</span></span> <span data-ttu-id="3a9d6-113">Важно продумать, какой метод лучше подходит к вашему сценарию.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-113">It's important to think about which access method best fits your scenario.</span></span>

## <a name="will-there-be-any-initial-overhead"></a><span data-ttu-id="3a9d6-114">Будут ли первоначальные накладные расходы?</span><span class="sxs-lookup"><span data-stu-id="3a9d6-114">Will there be any initial overhead?</span></span>

<span data-ttu-id="3a9d6-115">Так как подключение к данным предназначено для массового извлечения больших объемов данных, возникают дополнительные затраты времени перед тем, как можно будет извлечь данные.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-115">Because Data Connect is designed to extract large amounts of data in bulk, some overhead is incurred before the data can be extracted.</span></span> <span data-ttu-id="3a9d6-116">Эти затраты составляют около 45 минут. Это означает, что этот период потребуется для всех конвейеров вне зависимости от размера данных.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-116">This overhead is around 45 minutes, meaning all pipelines will take at least that long regardless of the data size.</span></span> <span data-ttu-id="3a9d6-117">Этими затратами можно пренебречь для больших объемов данных, но если такой промежуток времени недопустим в вашем сценарии, API Microsoft Graph может обеспечить более подходящий способ.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-117">This might be a negligible cost for large amounts of data, but if this time is unacceptable for your scenario, the Microsoft Graph APIs might provide a better approach.</span></span>

## <a name="how-much-do-i-have-to-pay-for-microsoft-graph-data-connect"></a><span data-ttu-id="3a9d6-118">Сколько нужно платить за функцию подключения к данным Microsoft Graph?</span><span class="sxs-lookup"><span data-stu-id="3a9d6-118">How much do I have to pay for Microsoft Graph Data Connect?</span></span>

<span data-ttu-id="3a9d6-119">Плата за использование функции подключения к данным Microsoft Graph взимается ежемесячно с оплатой по мере использования.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-119">Microsoft Graph Data Connect consumption charges are billed monthly on a pay-as-you-go basis.</span></span> <span data-ttu-id="3a9d6-120">Ед. изм. выставления счетов за функцию подключения к данным Microsoft Graph Microsoft Graph состоит из нескольких тысяч объектов, где 1 объект соответствует 1 отдельному экземпляру сущности в Microsoft 365.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-120">Microsoft Graph Data Connect billing unit is in multiple of 1000s of objects, where 1 object maps to 1 individual instance of an entity in Microsoft 365.</span></span> <span data-ttu-id="3a9d6-121">Например, 1 сообщение электронной почты == 1 объект, 1 файл == 1 объект, 1 сообщение чата Teams == 1 объект и так далее.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-121">For example, 1 email == 1 object, 1 file == 1 object, 1 Teams chat message == 1 object, and so on.</span></span> <span data-ttu-id="3a9d6-122">Плата рассчитывается по фиксированной ставке, основанной на количестве объектов на 1000, извлеченных через соединитель.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-122">Charges are calculated using a flat rate based on the count of per-1,000 objects extracted through the connector.</span></span> <span data-ttu-id="3a9d6-123">За извлечение объектов из следующих наборов данных плата не взимается:</span><span class="sxs-lookup"><span data-stu-id="3a9d6-123">There is no charge for extraction of objects from the following datasets:</span></span>

- <span data-ttu-id="3a9d6-124">BasicDataSet_v0.User</span><span class="sxs-lookup"><span data-stu-id="3a9d6-124">BasicDataSet_v0.User</span></span>
- <span data-ttu-id="3a9d6-125">BasicDataSet_v0.MailboxSettings</span><span class="sxs-lookup"><span data-stu-id="3a9d6-125">BasicDataSet_v0.MailboxSettings</span></span>
- <span data-ttu-id="3a9d6-126">BasicDataSet_v0.Manager</span><span class="sxs-lookup"><span data-stu-id="3a9d6-126">BasicDataSet_v0.Manager</span></span>
- <span data-ttu-id="3a9d6-127">BasicDataSet_v0.DirectReport.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-127">BasicDataSet_v0.DirectReport.</span></span>

<span data-ttu-id="3a9d6-128">Цена на объекты функции подключения к данным Microsoft Graph на сегодняшний день составляет 0,375 долларов США за извлеченные объекты размером 1 КБ.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-128">The price for Microsoft Graph Data Connect objects as of today is $0.375 per 1K objects extracted.</span></span>

## <a name="is-it-possible-for-my-data-to-stay-within-the-organizations-subscription-with-microsoft-graph-data-connect"></a><span data-ttu-id="3a9d6-129">Могут ли мои данные остаться в рамках подписки организации с помощью подключения к данным Microsoft Graph?</span><span class="sxs-lookup"><span data-stu-id="3a9d6-129">Is it possible for my data to stay within the organization's subscription with Microsoft Graph Data Connect?</span></span>

<span data-ttu-id="3a9d6-130">Конвейеры подключения к данным управляются фабрикой данных Azure, являющейся службой интеграции данных, работающей в рамках подписки Azure.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-130">Data Connect pipelines are orchestrated by Azure Data Factory, a data integration service that runs in an Azure subscription.</span></span> <span data-ttu-id="3a9d6-131">Подписка Azure [связана только с одним клиентом Microsoft 365](/azure/active-directory/fundamentals/active-directory-how-subscriptions-associated-directory).</span><span class="sxs-lookup"><span data-stu-id="3a9d6-131">The Azure subscription is [associated with exactly one Microsoft 365 tenant](/azure/active-directory/fundamentals/active-directory-how-subscriptions-associated-directory).</span></span> <span data-ttu-id="3a9d6-132">Таким образом, данные должны сначала направляться в связанную подписку Azure.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-132">This way, the data must initially flow to an associated Azure subscription.</span></span> <span data-ttu-id="3a9d6-133">После дальнейшей минимизации и агрегации данные можно использовать в другом месте.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-133">After further minimalization and aggregation, the data can be used elsewhere.</span></span>

<span data-ttu-id="3a9d6-134">Если нужно создать приложение для других пользователей, чтобы извлекать данные Microsoft 365, можно упаковать приложение как [управляемое приложение Azure](/azure/managed-applications/overview) и опубликовать его в Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-134">If you want to build an app for others to use to extract their Microsoft 365 data, you can package the app as an [Azure managed application](/azure/managed-applications/overview) and publish it to the Azure Marketplace.</span></span> <span data-ttu-id="3a9d6-135">Затем другой пользователь сможет развернуть ваше приложение в своей подписке Azure, и приложение получит доступ к данным в клиенте.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-135">Then someone can deploy your app into their own Azure subscription, and the app can access data in their tenant.</span></span>

## <a name="are-service-principals-required-with-microsoft-graph-data-connect"></a><span data-ttu-id="3a9d6-136">Требуются ли для подключения к данным Microsoft Graph субъекты службы?</span><span class="sxs-lookup"><span data-stu-id="3a9d6-136">Are service principals required with Microsoft Graph Data Connect?</span></span>

<span data-ttu-id="3a9d6-137">При создании конвейера фабрики данных необходимо предоставить субъект-службу для связанной службы Microsoft 365.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-137">When creating the Data Factory pipeline, you will have to provide a service principal to the Microsoft 365 linked service.</span></span> <span data-ttu-id="3a9d6-138">В Azure субъект-служба — это объект безопасности, представляющий приложение или службу (в отличие от пользователя).</span><span class="sxs-lookup"><span data-stu-id="3a9d6-138">In Azure, a service principal is a security identity that represents an application/service (as opposed to a user).</span></span> <span data-ttu-id="3a9d6-139">Подключение к данным использует этот субъект-службу в качестве удостоверения при получении авторизованного доступа к вашим данным Microsoft 365.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-139">Data Connect uses this service principal as its identity when getting authorized access to your Microsoft 365 data.</span></span>

<span data-ttu-id="3a9d6-140">Если вы создаете управляемое приложение Azure для других пользователей с целью применения в клиентах, вам также нужно предоставить субъект-службу для использования приложением.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-140">If you create an Azure Managed Application for others to use in their tenants, you'll still provide a service principal for the app to use.</span></span> <span data-ttu-id="3a9d6-141">Этот субъект-служба будет существовать в вашем клиенте (издателя).</span><span class="sxs-lookup"><span data-stu-id="3a9d6-141">This service principal will exist in your (the publisher's) tenant.</span></span> <span data-ttu-id="3a9d6-142">Но если приложению требуются другие субъекты-службы, пользователю (установщику) нужно будет создать их в собственном клиенте.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-142">However, if the app needs other service principals, your customer (the installer) will create them in their own tenant.</span></span> <span data-ttu-id="3a9d6-143">Например, вашему конвейеру фабрики данных, скорее всего, потребуется доступ к ресурсу хранилища в Azure.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-143">For example, your Data Factory pipeline will likely need access to a storage resource in Azure.</span></span> <span data-ttu-id="3a9d6-144">Пользователю потребуется создать субъект-службу с разрешениями на доступ к учетной записи хранилища для использования конвейером.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-144">The customer would create the service principal with permissions to the storage account for the pipeline to use.</span></span>

## <a name="how-can-i-check-for-pending-privileged-access-management-requests"></a><span data-ttu-id="3a9d6-145">Как проверить наличие ожидающих запросов Privileged Access Management?</span><span class="sxs-lookup"><span data-stu-id="3a9d6-145">How can I check for pending Privileged Access Management requests?</span></span>

<span data-ttu-id="3a9d6-146">Прежде чем подключение к данным сможет скопировать ваши данные администратор должен утвердить запрос на управление привилегированным доступом (PAM).</span><span class="sxs-lookup"><span data-stu-id="3a9d6-146">Before Data Connect can copy your data, an administrator must approve a Privileged Access Management (PAM) request.</span></span> <span data-ttu-id="3a9d6-147">Управление привилегированным доступом — это механизм, используемый для разрешения доступа вашего конвейера данных к данным в Microsoft 365.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-147">PAM is the mechanism used to authorize your data pipeline access to the data in Microsoft 365.</span></span> <span data-ttu-id="3a9d6-148">При первом запуске конвейера ожидается утверждение запроса на доступ администратором Microsoft 365 (или назначенным делегатом).</span><span class="sxs-lookup"><span data-stu-id="3a9d6-148">The first time you trigger a pipeline, it will wait on a Microsoft 365 administrator (or appointed delegate) to approve the access request.</span></span> <span data-ttu-id="3a9d6-149">Хотя состояние конвейера отображается как **Выполняется**, базовому действию копирования будет соответствовать состояние **ConsentPending** до получения утверждения, как показано на снимке экрана ниже.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-149">Although the pipeline status shows **In progress**, the underlying copy activity will have a status of **ConsentPending** until approval is granted, as shown in the following screenshot.</span></span>

![Снимок экрана: область состояния работы конвейера с состоянием ConsentPending](images/data-connect-tips.png)

<span data-ttu-id="3a9d6-151">При разработке рекомендуется проверять, что канал не застрял в состоянии **ConsentPending**, особенно после внесения изменений в конвейер.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-151">During development, it's a good idea to make sure your pipeline runs aren't stuck on **ConsentPending**, especially after you make a change to your pipeline.</span></span> <span data-ttu-id="3a9d6-152">Например, при добавлении дополнительного поля в схему следующий запуск конвейера приведет к созданию запроса PAM, требующего утверждения.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-152">For example, if you add an additional field to the schema, the next pipeline run will issue a new PAM request that has to be approved.</span></span> <span data-ttu-id="3a9d6-153">Не теряйте время с конвейером, ожидающим вашего утверждения.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-153">Don't waste time waiting on a pipeline that's waiting for your approval.</span></span>

## <a name="how-can-i-approve-pam-requests-via-microsoft-365-admin-portal"></a><span data-ttu-id="3a9d6-154">Как утвердить запросы PAM на портале администрирования Microsoft 365?</span><span class="sxs-lookup"><span data-stu-id="3a9d6-154">How can I approve PAM requests via Microsoft 365 admin portal?</span></span>

<span data-ttu-id="3a9d6-155">В документации по подключению данных показано, как использовать PowerShell и пользовательский интерфейс PAM, чтобы утверждать запросы PAM.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-155">The Data Connect documentation shows you how to use PowerShell and the PAM UX to approve PAM requests.</span></span> <span data-ttu-id="3a9d6-156">Для утверждения с помощью пользовательского интерфейса PAM откройте пользовательский интерфейс PAM на [портале администрирования Microsoft 365](https://admin.microsoft.com/Adminportal/Home?source=applauncher#/Settings/PrivilegedAccess).</span><span class="sxs-lookup"><span data-stu-id="3a9d6-156">To approve using the PAM UX, visit the PAM interface in the [Microsoft 365 admin portal](https://admin.microsoft.com/Adminportal/Home?source=applauncher#/Settings/PrivilegedAccess).</span></span> <span data-ttu-id="3a9d6-157">Портал предоставляет простой и понятный способ просмотра, утверждения, отклонения или отзыва запросов PAM.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-157">The portal provides an easy and user-friendly way to view and approve/deny/revoke PAM requests.</span></span> <span data-ttu-id="3a9d6-158">Ссылка на надстройку подключения к данным Microsoft Graph находится в разделе **Параметры** > **Службы и надстройки** > **Подключение к данным Microsoft Graph**.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-158">You can find a link to it in the Microsoft Graph Data Connect add-in under **Settings** > **Services & Add-ins** > **Microsoft Graph Data Connect**.</span></span>

## <a name="can-i-have-a-second-user-to-approve-pam-requests"></a><span data-ttu-id="3a9d6-159">Можно ли использовать второго пользователя для утверждения запросов PAM?</span><span class="sxs-lookup"><span data-stu-id="3a9d6-159">Can I have a second user to approve PAM requests?</span></span>

<span data-ttu-id="3a9d6-160">Если вы запускаете конвейер и запрос PAM, запрос вкладывается в вашу учетную запись, которой принадлежит субъект-служба, используемая конвейером.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-160">When you run a pipeline and trigger a PAM request, the request is attached to your user account that owns the service principal used by the pipeline.</span></span> <span data-ttu-id="3a9d6-161">Но даже если эта учетная запись состоит в настроенной вами группе утверждающих, вы не сможете использовать ее для утверждения запроса PAM, так как самостоятельные утверждения не разрешаются.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-161">But even if this account is part of the approver group you set up, you can't use it to approve the PAM request because self-approvals are not allowed.</span></span> <span data-ttu-id="3a9d6-162">При попытке появится сообщение об ошибке в портале PAM: "Запрашивающий и утверждающий совпадают.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-162">If you try, you'll get an error message in the PAM portal: "Requestor and approver are the same.</span></span> <span data-ttu-id="3a9d6-163">Самостоятельное утверждение запрещено".</span><span class="sxs-lookup"><span data-stu-id="3a9d6-163">Self-approval is not allowed."</span></span> <span data-ttu-id="3a9d6-164">При разработке рекомендуется использовать вторую учетную запись помимо администратора, утверждающего запросы.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-164">For development, you'll want to have a second account in addition to the admin who approves requests.</span></span> <span data-ttu-id="3a9d6-165">Как отправитель, так и утверждающий должны иметь активные учетные записи Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-165">Both the submitter and the approver must have active Exchange Online accounts.</span></span>

## <a name="can-i-deduplicate-emails-when-needed"></a><span data-ttu-id="3a9d6-166">Можно ли при необходимости выполнять дедупликацию сообщений электронной почты?</span><span class="sxs-lookup"><span data-stu-id="3a9d6-166">Can I deduplicate emails when needed?</span></span>

<span data-ttu-id="3a9d6-167">При извлечении сообщений электронной почты из набора данных `Message` часто создается несколько объектов JSON одного сообщения.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-167">When you extract emails from the `Message` dataset, there will often be multiple JSON objects for the same email.</span></span> <span data-ttu-id="3a9d6-168">Эти дубликаты существуют, так как при отправке сообщения нескольким пользователям создается его копия в почтовом ящике каждого получателя.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-168">These duplicates exist because when an email is sent to multiple people, there is a copy of the email in every recipient's mailbox.</span></span> <span data-ttu-id="3a9d6-169">Так как набор данных извлекается из каждого почтового ящика, он будет содержать все копии от разных пользователей.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-169">Because the dataset is extracted from every mailbox, it will contain all copies across users.</span></span> <span data-ttu-id="3a9d6-170">В некоторых случаях может требоваться сохранение всех копий, но в остальных случаях рекомендуется удалять дубликаты.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-170">In some scenarios, it might be necessary to keep every copy but in others, you may want to remove the duplicates.</span></span>
<span data-ttu-id="3a9d6-171">Выполнить дедупликацию экспортированных объектов JSON можно на основе параметра `internetMessageId` сообщений: два сообщения с одинаковым значением `internetMessageId` являются копиями одного экземпляра.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-171">You can deduplicate the exported JSON objects based on the `internetMessageId` of the messages: Two messages with the same `internetMessageId` are duplicate copies of the same instance.</span></span> <span data-ttu-id="3a9d6-172">Так как дубликаты могут существовать в разных BLOB-объектах, дедупликацию необходимо выполнять во всех BLOB-объектах, а не в отдельных BLOB-объектах.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-172">Because the duplicates can exist in different blobs, you must deduplicate across all blobs rather than deduplicating in each blob separately.</span></span>

## <a name="can-i-use-puser-field-to-determine-the-relevant-user"></a><span data-ttu-id="3a9d6-173">Можно ли использовать поле "Puser" для определения соответствующего пользователя?</span><span class="sxs-lookup"><span data-stu-id="3a9d6-173">Can I use puser field to determine the relevant user?</span></span>

<span data-ttu-id="3a9d6-174">Извлеченные данные содержат некоторые свойства Meta, не существующие при использовании соответствующего API Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-174">The extracted data includes some meta properties that don't exist when using the corresponding Microsoft Graph APIs.</span></span> <span data-ttu-id="3a9d6-175">В частности, поле `puser` может быть полезно для определения пользователя, данные о котором извлечены.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-175">Specifically, the `puser` field can be useful for determining which user the data was extracted from.</span></span> <span data-ttu-id="3a9d6-176">В сценарии с двумя копиями одного сообщения электронной почты в разных почтовых ящиках вы можете использовать поле `puser`, чтобы определить, из какого почтового ящика получена каждая копия.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-176">In the scenario where you have two copies of the same email in different mailboxes, you can use the `puser` field to determine which copy came from which mailbox.</span></span> <span data-ttu-id="3a9d6-177">Поле `puser` также удобно применять для наборов данных, например для набора данных `Manager`.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-177">The `puser` field is also useful for datasets such as the `Manager` dataset.</span></span> <span data-ttu-id="3a9d6-178">Экспортированные объекты JSON содержат сведения о руководителе, но они полезны, только если вы знаете, кем он руководит.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-178">The exported JSON will contain information about a manager, but this is only useful if you know whose manager they are.</span></span> <span data-ttu-id="3a9d6-179">Поле `puser` указывает, чей руководитель соответствует этому объекту JSON.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-179">The `puser` field will tell you whose manager that JSON object corresponds to.</span></span>

## <a name="is-a-mix-of-users-with-and-without-workplace-analytics-licenses-supported"></a><span data-ttu-id="3a9d6-180">Поддерживается ли сочетание пользователей с лицензиями Рабочей аналитики и без них?</span><span class="sxs-lookup"><span data-stu-id="3a9d6-180">Is a mix of users with and without Workplace Analytics licenses supported?</span></span>

<span data-ttu-id="3a9d6-181">Сегодня мы требуем, чтобы у всех пользователей в списке пользователей была лицензия Рабочей аналитики, либо у всех пользователей в списке пользователей не было лицензии Рабочей аналитики.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-181">Today, we require all users in user list to either have Workplace Analytics license or all users in user list to not have Workplace Analytics license.</span></span> <span data-ttu-id="3a9d6-182">К сожалению, мы не поддерживаем смешанный список пользователей, когда у некоторых пользователей есть лицензия Рабочей аналитики, а у некоторых нет.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-182">Unfortunately, we do not supported mixed user list, i.e. some users have Workplace Analytics license and some do not.</span></span> <span data-ttu-id="3a9d6-183">Это связано с тем, что если у пользователей в списке пользователей есть лицензия Рабочей аналитики, то для функции подключения к данным не требуется дополнительных сборов, тогда как если у клиентов нет лицензии Рабочей аналитики, клиентам выставляются счета за потребление, что подробно описано здесь.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-183">This is because if users in user list have Workplace Analytics license then no additional charges are required for Data Connect, whereas if customers do not have Workplace Analytics license, then customers are billed using consumption billing detailed here.</span></span> <span data-ttu-id="3a9d6-184">Если это вам не подходит для вашего варианта использования, сообщите нам об этом, и мы посмотрим, есть ли возможность помочь вашему сценарию здесь.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-184">If this is breaking your use case today, please let us know and we can see if there are opportunities to help your scenario here.</span></span>

## <a name="is-hybrid-mode-tenant-setup-supported"></a><span data-ttu-id="3a9d6-185">Поддерживается ли настройка клиента в гибридном режиме?</span><span class="sxs-lookup"><span data-stu-id="3a9d6-185">Is hybrid mode tenant setup supported?</span></span>

<span data-ttu-id="3a9d6-186">Если в вашей настройке Microsoft 365 есть некоторые пользователи в Exchange Online и некоторые пользователи в локальной службе Exchange, то пользователи, которые находятся в локальной службе Exchange, не будут поддерживаться.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-186">If your Microsoft 365 setup have some users in Exchange Online and some users in Exchange on-premises then the users who are in Exchange on-premises would not be supported.</span></span> <span data-ttu-id="3a9d6-187">К сожалению, сегодня подключение к данным для локальных пользователей Exchange не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-187">Unfortunately, today we do not support Data Connect for Exchange on-premises users.</span></span>

## <a name="are-resource-accounts-supported"></a><span data-ttu-id="3a9d6-188">Поддерживаются ли учетные записи ресурсов?</span><span class="sxs-lookup"><span data-stu-id="3a9d6-188">Are resource accounts supported?</span></span>

<span data-ttu-id="3a9d6-189">В настоящее время мы не поддерживаем доступ к сообщениям или событиям из учетных записей ресурсов.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-189">We don't currently support access to messages or events from resource accounts.</span></span> <span data-ttu-id="3a9d6-190">Мы добавим поддержку этой функции в будущем.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-190">We will add support for this in the future.</span></span>

## <a name="i-am-seeing-multiple-files-per-adf-pipeline-run-but-sometimes-just-1-file-per-run-why-is-this-happening"></a><span data-ttu-id="3a9d6-191">Я вижу несколько файлов за один запуск устройства автоматической подачи листов, но иногда только один файл за один запуск.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-191">I am seeing multiple files per ADF pipeline run, but sometimes just 1 file per run.</span></span> <span data-ttu-id="3a9d6-192">С чем это связано?</span><span class="sxs-lookup"><span data-stu-id="3a9d6-192">Why is this happening?</span></span>

<span data-ttu-id="3a9d6-193">Подключение к данным Microsoft Graph берет список пользователей для каждого запуска устройства, а затем распределяет извлечение набора данных и курирование по нескольким заданиям, которые выполняются параллельно.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-193">Microsoft Graph Data Connect takes user list for each pipeline run and then distributes the dataset extraction and curation across multiple jobs that run in parallel.</span></span> <span data-ttu-id="3a9d6-194">Для каждого параллельного запуска в определенном вами источнике данных создается 1 выходной файл.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-194">For each parallel run, 1 output file is generated in the data sink defined by you.</span></span> <span data-ttu-id="3a9d6-195">В некоторых случаях, если список пользователей небольшой, его можно сопоставить с 1 заданием извлечения и курсирования, и в таких случаях в источнике данных будет создан только 1 выходной файл.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-195">For some cases, if the user list is small, they may be mapped into 1 extraction and curation job, and in those cases only 1 output file would be generated in the data sink.</span></span>

## <a name="how-is-billing-computed-with-the-count-of-objects-is-not-a-round-number"></a><span data-ttu-id="3a9d6-196">Каким образом выполняется расчет по выставлению счета, если количество объектов не является круглым числом?</span><span class="sxs-lookup"><span data-stu-id="3a9d6-196">How is billing computed with the count of objects is not a round number?</span></span>

<span data-ttu-id="3a9d6-197">В целях выставления счетов подключение к данным Microsoft Graph округляет количество извлеченных объектов до ближайшего значения 1000.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-197">For billing purposes, Microsoft Graph Data Connect rounds up to the extracted object count to nearest 1000.</span></span> <span data-ttu-id="3a9d6-198">Например, если вы извлекаете 125 объектов или извлекаете 999 объектов, им будет выставлен счет за 1000 объектов.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-198">For example, if you extracts 125 objects or they extract 999 objects, they will be billed for 1000 objects.</span></span> <span data-ttu-id="3a9d6-199">Аналогичным образом при извлечении от 1001 до 2000 объектов будет взиматься плата за 2000 объектов.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-199">Similarly, if you extract between 1001 to 2000 objects, you would be charged for 2000 objects.</span></span>

## <a name="my-microsoft-365-copy-data-activity-is-always-failing-when-initialized-via-azure-synapse-why-is-this-happening"></a><span data-ttu-id="3a9d6-200">При инициализации с помощью Azure Synapse всегда происходит сбой копирования данных Microsoft 365.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-200">My Microsoft 365 copy data activity is always failing when initialized via Azure Synapse.</span></span> <span data-ttu-id="3a9d6-201">С чем это связано?</span><span class="sxs-lookup"><span data-stu-id="3a9d6-201">Why is this happening?</span></span>

<span data-ttu-id="3a9d6-202">Сегодня мы не поддерживаем копирование данных Microsoft 365 для инициализации с помощью Azure Synapse.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-202">Today, we do not support Microsoft 365 copy data activity to be initialized via Azure Synapse.</span></span> <span data-ttu-id="3a9d6-203">Мы работаем над добавлением интеграции для инициализированного действия Azure Synapse и обновим нашу документацию по ее завершению.</span><span class="sxs-lookup"><span data-stu-id="3a9d6-203">We are working toward adding the integration for Azure Synapse initialized activity and will update our documentation when this is completed.</span></span>
